# üåç –ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –ø–∞—Ä—Å–∏–Ω–≥—É —Å—Ä–µ–¥–Ω–∏—Ö —Ü–µ–Ω —Ç–æ–ø–ª–∏–≤–∞ –ø–æ —Ä–µ–≥–∏–æ–Ω–∞–º –†–æ—Å—Å–∏–∏

## üìñ –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

1. [–ß—Ç–æ —Ç–∞–∫–æ–µ —Ä–µ–≥–∏–æ–Ω–∞–ª—å–Ω—ã–π –ø–∞—Ä—Å–∏–Ω–≥?](#—á—Ç–æ-—Ç–∞–∫–æ–µ-—Ä–µ–≥–∏–æ–Ω–∞–ª—å–Ω—ã–π-–ø–∞—Ä—Å–∏–Ω–≥)
2. [–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç](#–±—ã—Å—Ç—Ä—ã–π-—Å—Ç–∞—Ä—Ç)
3. [–î–µ—Ç–∞–ª—å–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã](#–¥–µ—Ç–∞–ª—å–Ω—ã–µ-–∫–æ–º–∞–Ω–¥—ã)
4. [–ü—Ä–æ–≥—Ä–∞–º–º–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å](#–ø—Ä–æ–≥—Ä–∞–º–º–Ω—ã–π-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å)
5. [–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è](#–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è)
6. [–ê–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö](#–∞–Ω–∞–ª–∏–∑-–¥–∞–Ω–Ω—ã—Ö)
7. [–§–æ—Ä–º–∞—Ç—ã –≤—ã—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö](#—Ñ–æ—Ä–º–∞—Ç—ã-–≤—ã—Ö–æ–¥–Ω—ã—Ö-–¥–∞–Ω–Ω—ã—Ö)
8. [–ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è](#–ø—Ä–∏–º–µ—Ä—ã-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è)
9. [–£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫](#—É—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ-–Ω–µ–ø–æ–ª–∞–¥–æ–∫)

---

## üåü –ß—Ç–æ —Ç–∞–∫–æ–µ —Ä–µ–≥–∏–æ–Ω–∞–ª—å–Ω—ã–π –ø–∞—Ä—Å–∏–Ω–≥?

**–†–µ–≥–∏–æ–Ω–∞–ª—å–Ω—ã–π –ø–∞—Ä—Å–µ—Ä —Ü–µ–Ω —Ç–æ–ø–ª–∏–≤–∞** ‚Äî —ç—Ç–æ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –º–æ–¥—É–ª—å, –∫–æ—Ç–æ—Ä—ã–π –∏–∑–≤–ª–µ–∫–∞–µ—Ç **—Å—Ä–µ–¥–Ω–∏–µ —Ü–µ–Ω—ã –Ω–∞ —Ç–æ–ø–ª–∏–≤–æ –ø–æ –≤—Å–µ–º —Ä–µ–≥–∏–æ–Ω–∞–º –†–æ—Å—Å–∏–π—Å–∫–æ–π –§–µ–¥–µ—Ä–∞—Ü–∏–∏**. 

### üéØ –ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

| –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------------|----------|
| **üìä –°—Ä–µ–¥–Ω–∏–µ –¥–∞–Ω–Ω—ã–µ** | –ù–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –ê–ó–°, –∞ —É—Å—Ä–µ–¥–Ω–µ–Ω–Ω—ã–µ —Ü–µ–Ω—ã –ø–æ —Ä–µ–≥–∏–æ–Ω—É |
| **üó∫Ô∏è –ü–æ–ª–Ω–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ** | –í—Å–µ 84 —Å—É–±—ä–µ–∫—Ç–∞ –†–æ—Å—Å–∏–π—Å–∫–æ–π –§–µ–¥–µ—Ä–∞—Ü–∏–∏ |
| **‚ö° –í—ã—Å–æ–∫–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å** | –û–¥–∏–Ω HTTP-–∑–∞–ø—Ä–æ—Å = –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –ø–æ —Ä–µ–≥–∏–æ–Ω—É |
| **üîÑ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ** | –î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –ø–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –≤—Å–µ—Ö —Ä–µ–≥–∏–æ–Ω–æ–≤ |
| **üìà –ê–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏–π —Ñ–æ—Ä–º–∞—Ç** | –ò–¥–µ–∞–ª—å–Ω–æ –¥–ª—è –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–π –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ |

### üí° –û—Ç–ª–∏—á–∏—è –æ—Ç –æ–±—ã—á–Ω–æ–≥–æ –ø–∞—Ä—Å–∏–Ω–≥–∞

| –ö—Ä–∏—Ç–µ—Ä–∏–π | –û–±—ã—á–Ω—ã–π –ø–∞—Ä—Å–∏–Ω–≥ | –†–µ–≥–∏–æ–Ω–∞–ª—å–Ω—ã–π –ø–∞—Ä—Å–∏–Ω–≥ |
|----------|-----------------|---------------------|
| **–î–∞–Ω–Ω—ã–µ** | –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –ê–ó–° | –°—Ä–µ–¥–Ω–∏–µ —Ü–µ–Ω—ã –ø–æ —Ä–µ–≥–∏–æ–Ω—É |
| **–û–±—ä–µ–º –¥–∞–Ω–Ω—ã—Ö** | –ë–æ–ª—å—à–æ–π (—Ç—ã—Å—è—á–∏ –∑–∞–ø–∏—Å–µ–π) | –ö–æ–º–ø–∞–∫—Ç–Ω—ã–π (84 —Ä–µ–≥–∏–æ–Ω–∞) |
| **–°–∫–æ—Ä–æ—Å—Ç—å** | –ú–µ–¥–ª–µ–Ω–Ω–æ | –ë—ã—Å—Ç—Ä–æ |
| **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ** | –ü–æ–∏—Å–∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –∑–∞–ø—Ä–∞–≤–æ–∫ | –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ |
| **–ü–æ–∫—Ä—ã—Ç–∏–µ** | –ß–∞—Å—Ç–∏—á–Ω–æ–µ | 100% —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏–∏ –†–§ |

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### üåç –ü–∞—Ä—Å–∏–Ω–≥ –≤—Å–µ—Ö —Ä–µ–≥–∏–æ–Ω–æ–≤ –†–æ—Å—Å–∏–∏ (84 —Ä–µ–≥–∏–æ–Ω–∞)

```bash
python regional_parser.py --all-regions
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- –ò–∑–≤–ª–µ–∫–∞–µ—Ç —Å—Ä–µ–¥–Ω–∏–µ —Ü–µ–Ω—ã –ø–æ –≤—Å–µ–º 84 —Ä–µ–≥–∏–æ–Ω–∞–º –†–§
- –°–æ–∑–¥–∞–µ—Ç —Ñ–∞–π–ª `regional_prices_YYYYMMDD_HHMMSS.json`
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–æ —Ç–æ–ø–ª–∏–≤—É
- –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è: ~3-5 –º–∏–Ω—É—Ç

### ‚≠ê –ü–∞—Ä—Å–∏–Ω–≥ –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö —Ä–µ–≥–∏–æ–Ω–æ–≤

```bash
python regional_parser.py --popular-regions
```

**–ü–æ–ø—É–ª—è—Ä–Ω—ã–µ —Ä–µ–≥–∏–æ–Ω—ã (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é):**
- 77 - –ú–æ—Å–∫–≤–∞
- 78 - –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥  
- 50 - –ú–æ—Å–∫–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å
- 40 - –ö–∞–ª—É–∂—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å
- 23 - –ö—Ä–∞—Å–Ω–æ–¥–∞—Ä—Å–∫–∏–π –∫—Ä–∞–π
- 66 - –°–≤–µ—Ä–¥–ª–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å

### üéØ –ü–∞—Ä—Å–∏–Ω–≥ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Ä–µ–≥–∏–æ–Ω–æ–≤

```bash
# –ú–æ—Å–∫–≤–∞, –°–ü–± –∏ –ú–æ—Å–∫–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å
python regional_parser.py --regions 77 78 50

# –¢–æ–ª—å–∫–æ –ú–æ—Å–∫–≤–∞
python regional_parser.py --regions 77
```

### üîó –ß–µ—Ä–µ–∑ –æ—Å–Ω–æ–≤–Ω–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

```bash
python main.py --networks regional_prices
```

---

## üìã –î–µ—Ç–∞–ª—å–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

### üó∫Ô∏è –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Ä–µ–≥–∏–æ–Ω–æ–≤

```bash
python regional_parser.py --list-regions
```

**–ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞:**
```
üìç –ü–æ–ø—É–ª—è—Ä–Ω—ã–µ —Ä–µ–≥–∏–æ–Ω—ã:
   77: –ú–æ—Å–∫–≤–∞ ‚≠ê
   78: –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥ ‚≠ê
   50: –ú–æ—Å–∫–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å ‚≠ê

üìç –í—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Ä–µ–≥–∏–æ–Ω—ã:
    1: –†–µ—Å–ø—É–±–ª–∏–∫–∞ –ê–¥—ã–≥–µ—è
    2: –†–µ—Å–ø—É–±–ª–∏–∫–∞ –ë–∞—à–∫–æ—Ä—Ç–æ—Å—Ç–∞–Ω
    3: –†–µ—Å–ø—É–±–ª–∏–∫–∞ –ë—É—Ä—è—Ç–∏—è
   ...
```

### ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

#### –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Ä–µ–≥–∏–æ–Ω–æ–≤
```bash
# –ü–∞—Ä—Å–∏—Ç—å —Ç–æ–ª—å–∫–æ –ø–µ—Ä–≤—ã–µ 10 —Ä–µ–≥–∏–æ–Ω–æ–≤
python regional_parser.py --all-regions --max-regions 10

# –û–≥—Ä–∞–Ω–∏—á–∏—Ç—å –ø–æ–ø—É–ª—è—Ä–Ω—ã–µ —Ä–µ–≥–∏–æ–Ω—ã –¥–æ 3
python regional_parser.py --popular-regions --max-regions 3
```

#### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∑–∞–¥–µ—Ä–∂–∫–∏ –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏
```bash
# –ó–∞–¥–µ—Ä–∂–∫–∞ 2 —Å–µ–∫—É–Ω–¥—ã (–±–µ—Ä–µ–∂–Ω–µ–µ –∫ —Å–µ—Ä–≤–µ—Ä—É)
python regional_parser.py --popular-regions --delay 2.0

# –ë—ã—Å—Ç—Ä—ã–π —Ä–µ–∂–∏–º (1 —Å–µ–∫—É–Ω–¥–∞)
python regional_parser.py --popular-regions --delay 1.0
```

#### –ü–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
```bash
python regional_parser.py --all-regions --verbose
```

#### –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ä–µ–∂–∏–º (—á–µ—Ä–µ–∑ –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä)
```bash
python regional_parser.py --popular-regions --use-orchestrator
```

---

## üíª –ü—Ä–æ–≥—Ä–∞–º–º–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

### üîß –ë–∞–∑–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```python
from src.parsers.russiabase_parser import RussiaBaseRegionalParser

# –°–æ–∑–¥–∞–µ–º –ø–∞—Ä—Å–µ—Ä
parser = RussiaBaseRegionalParser()

# 1. –ü–æ–ª—É—á–∞–µ–º —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Ä–µ–≥–∏–æ–Ω–æ–≤
all_regions = parser.get_all_regions()
print(f"–í—Å–µ–≥–æ —Ä–µ–≥–∏–æ–Ω–æ–≤: {len(all_regions)}")

# 2. –ü–∞—Ä—Å–∏–º –æ–¥–∏–Ω —Ä–µ–≥–∏–æ–Ω
moscow_result = parser.get_region_prices(77, "–ú–æ—Å–∫–≤–∞")
if moscow_result and moscow_result.status == 'success':
    print("–¶–µ–Ω—ã –≤ –ú–æ—Å–∫–≤–µ:")
    for fuel_type, price in moscow_result.fuel_prices.items():
        print(f"  {fuel_type}: {price:.2f} —Ä—É–±/–ª")
```

### üåç –ü–∞—Ä—Å–∏–Ω–≥ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Ä–µ–≥–∏–æ–Ω–æ–≤

```python
# –ü–æ–¥–≥–æ—Ç–∞–≤–ª–∏–≤–∞–µ–º —Å–ø–∏—Å–æ–∫ —Ä–µ–≥–∏–æ–Ω–æ–≤
regions_to_parse = [
    {'id': 77, 'name': '–ú–æ—Å–∫–≤–∞'},
    {'id': 78, 'name': '–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥'},
    {'id': 50, 'name': '–ú–æ—Å–∫–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å'}
]

# –ü–∞—Ä—Å–∏–º –≤—Å–µ —Ä–µ–≥–∏–æ–Ω—ã —Å—Ä–∞–∑—É
results = parser.parse_multiple_regions(regions_to_parse)

# –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
for result in results:
    print(f"\n--- {result.region_name} ---")
    if result.status == 'success':
        print(f"‚úÖ –î–∞–Ω–Ω—ã–µ –ø–æ–ª—É—á–µ–Ω—ã:")
        for fuel_type, price in result.fuel_prices.items():
            print(f"  {fuel_type}: {price:.2f} —Ä—É–±/–ª")
    else:
        print(f"‚ùå –û—à–∏–±–∫–∞: {result.error_message}")
```

### üîÑ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–∞—Ä—Å–∏–Ω–≥ –≤—Å–µ—Ö —Ä–µ–≥–∏–æ–Ω–æ–≤

```python
# –ü–æ–ª—É—á–∞–µ–º –≤—Å–µ —Ä–µ–≥–∏–æ–Ω—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
all_regions = parser.get_all_regions()

# –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ–º –≤ —Ñ–æ—Ä–º–∞—Ç –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞
regions_list = [
    {'id': region_id, 'name': region_name}
    for region_id, region_name in all_regions.items()
]

print(f"–ü–∞—Ä—Å–∏–º {len(regions_list)} —Ä–µ–≥–∏–æ–Ω–æ–≤...")

# –ü–∞—Ä—Å–∏–º —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ–º (–ø–µ—Ä–≤—ã–µ 20 —Ä–µ–≥–∏–æ–Ω–æ–≤)
limited_regions = regions_list[:20]
results = parser.parse_multiple_regions(limited_regions)

print(f"–£—Å–ø–µ—à–Ω–æ –ø–æ–ª—É—á–µ–Ω—ã –¥–∞–Ω–Ω—ã–µ –¥–ª—è {len([r for r in results if r.status == 'success'])} —Ä–µ–≥–∏–æ–Ω–æ–≤")
```

### üìä –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

```python
def analyze_regional_prices(results):
    """–ê–Ω–∞–ª–∏–∑ —Ä–µ–≥–∏–æ–Ω–∞–ª—å–Ω—ã—Ö —Ü–µ–Ω"""
    
    # –ì—Ä—É–ø–ø–∏—Ä—É–µ–º –¥–∞–Ω–Ω—ã–µ –ø–æ —Ç–∏–ø–∞–º —Ç–æ–ø–ª–∏–≤–∞
    fuel_data = {}
    successful_regions = []
    
    for result in results:
        if result.status == 'success' and result.fuel_prices:
            successful_regions.append(result)
            for fuel_type, price in result.fuel_prices.items():
                if fuel_type not in fuel_data:
                    fuel_data[fuel_type] = []
                fuel_data[fuel_type].append({
                    'region': result.region_name,
                    'price': price
                })
    
    # –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ —Ç–æ–ø–ª–∏–≤—É
    print("üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ —Ç–æ–ø–ª–∏–≤—É:")
    for fuel_type, data in fuel_data.items():
        prices = [item['price'] for item in data]
        
        avg_price = sum(prices) / len(prices)
        min_price = min(prices)
        max_price = max(prices)
        
        min_region = next(item['region'] for item in data if item['price'] == min_price)
        max_region = next(item['region'] for item in data if item['price'] == max_price)
        
        print(f"\n{fuel_type}:")
        print(f"  üìà –°—Ä–µ–¥–Ω—è—è —Ü–µ–Ω–∞: {avg_price:.2f} —Ä—É–±/–ª")
        print(f"  üìâ –ú–∏–Ω–∏–º—É–º: {min_price:.2f} —Ä—É–±/–ª ({min_region})")
        print(f"  üìà –ú–∞–∫—Å–∏–º—É–º: {max_price:.2f} —Ä—É–±/–ª ({max_region})")
        print(f"  üéØ –†–∞–∑–±—Ä–æ—Å: {max_price - min_price:.2f} —Ä—É–±/–ª")
    
    return fuel_data

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
results = parser.parse_multiple_regions(regions_list)
fuel_stats = analyze_regional_prices(results)
```

---

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### üìù –û—Å–Ω–æ–≤–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≤ `config.py`

```python
# –†–µ–≥–∏–æ–Ω–∞–ª—å–Ω—ã–π –ø–∞—Ä—Å–µ—Ä
GAS_STATION_NETWORKS["regional_prices"] = {
    "name": "–†–µ–≥–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ü–µ–Ω—ã",
    "type": "russiabase_regional",
    "base_url": "https://russiabase.ru/prices",
    "delay": 1.5,                      # –ó–∞–¥–µ—Ä–∂–∫–∞ –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏ (—Å–µ–∫)
    "max_regions": None,               # –ú–∞–∫—Å–∏–º—É–º —Ä–µ–≥–∏–æ–Ω–æ–≤ (None = –≤—Å–µ)
    "description": "–°—Ä–µ–¥–Ω–∏–µ —Ü–µ–Ω—ã –Ω–∞ —Ç–æ–ø–ª–∏–≤–æ –ø–æ —Ä–µ–≥–∏–æ–Ω–∞–º –†–æ—Å—Å–∏–∏"
}

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Ä–µ–≥–∏–æ–Ω–æ–≤
REGIONS_CONFIG = {
    "regions_file": "regions.md",
    "default_regions": [77, 78, 50, 40, 23, 66],  # –ü–æ–ø—É–ª—è—Ä–Ω—ã–µ —Ä–µ–≥–∏–æ–Ω—ã
    "enable_region_filtering": True,
    "enable_multi_region_parsing": True,
    "max_regions_per_network": 10
}
```

### üîß –ü—Ä–æ–≥—Ä–∞–º–º–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

```python
# –°–æ–∑–¥–∞–Ω–∏–µ –ø–∞—Ä—Å–µ—Ä–∞ —Å –∫–∞—Å—Ç–æ–º–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π
custom_config = {
    'delay': 2.0,          # –£–≤–µ–ª–∏—á–µ–Ω–Ω–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞
    'max_regions': 20,     # –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Ä–µ–≥–∏–æ–Ω–æ–≤  
    'timeout': 45          # –£–≤–µ–ª–∏—á–µ–Ω–Ω—ã–π —Ç–∞–π–º–∞—É—Ç
}

parser = RussiaBaseRegionalParser("regional_prices", custom_config)
```

---

## üìä –ê–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö

### üéØ –¢–æ–ø —Å–∞–º—ã—Ö –¥–æ—Ä–æ–≥–∏—Ö/–¥–µ—à–µ–≤—ã—Ö —Ä–µ–≥–∏–æ–Ω–æ–≤

```python
def find_extreme_regions(results, fuel_type="–ê–ò-95"):
    """–ù–∞–π—Ç–∏ —Å–∞–º—ã–µ –¥–æ—Ä–æ–≥–∏–µ –∏ –¥–µ—à–µ–≤—ã–µ —Ä–µ–≥–∏–æ–Ω—ã"""
    
    regions_data = []
    for result in results:
        if result.status == 'success' and fuel_type in result.fuel_prices:
            regions_data.append({
                'region': result.region_name,
                'price': result.fuel_prices[fuel_type]
            })
    
    # –°–æ—Ä—Ç–∏—Ä—É–µ–º –ø–æ —Ü–µ–Ω–µ
    regions_data.sort(key=lambda x: x['price'])
    
    print(f"üèÜ –¢–æ–ø-5 —Å–∞–º—ã—Ö –¥–µ—à–µ–≤—ã—Ö —Ä–µ–≥–∏–æ–Ω–æ–≤ –ø–æ {fuel_type}:")
    for i, data in enumerate(regions_data[:5], 1):
        print(f"  {i}. {data['region']}: {data['price']:.2f} —Ä—É–±/–ª")
    
    print(f"\nüí∏ –¢–æ–ø-5 —Å–∞–º—ã—Ö –¥–æ—Ä–æ–≥–∏—Ö —Ä–µ–≥–∏–æ–Ω–æ–≤ –ø–æ {fuel_type}:")
    for i, data in enumerate(regions_data[-5:], 1):
        print(f"  {i}. {data['region']}: {data['price']:.2f} —Ä—É–±/–ª")
    
    return regions_data

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
results = parser.parse_multiple_regions(regions_list)
extreme_data = find_extreme_regions(results, "–ê–ò-95")
```

### üìà –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ä–µ–≥–∏–æ–Ω–æ–≤

```python
def compare_regions(results, regions_to_compare):
    """–°—Ä–∞–≤–Ω–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ä–µ–≥–∏–æ–Ω—ã"""
    
    comparison_data = {}
    
    for result in results:
        if result.region_name in regions_to_compare and result.status == 'success':
            comparison_data[result.region_name] = result.fuel_prices
    
    print("üîç –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ä–µ–≥–∏–æ–Ω–æ–≤:")
    print(f"{'–†–µ–≥–∏–æ–Ω':<20} {'–ê–ò-92':<8} {'–ê–ò-95':<8} {'–ê–ò-98':<8} {'–î–¢':<8}")
    print("-" * 60)
    
    for region, prices in comparison_data.items():
        ai92 = f"{prices.get('–ê–ò-92', 0):.2f}" if prices.get('–ê–ò-92') else "-"
        ai95 = f"{prices.get('–ê–ò-95', 0):.2f}" if prices.get('–ê–ò-95') else "-"
        ai98 = f"{prices.get('–ê–ò-98', 0):.2f}" if prices.get('–ê–ò-98') else "-"
        dt = f"{prices.get('–î–¢', 0):.2f}" if prices.get('–î–¢') else "-"
        
        print(f"{region:<20} {ai92:<8} {ai95:<8} {ai98:<8} {dt:<8}")

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
compare_regions(results, ["–ú–æ—Å–∫–≤–∞", "–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥", "–ú–æ—Å–∫–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å"])
```

### üíæ –≠–∫—Å–ø–æ—Ä—Ç –≤ —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã

```python
import json
import csv
from datetime import datetime

def export_regional_data(results, format='json'):
    """–≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö –≤ —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã"""
    
    timestamp = datetime.now().strftime("%Y%m%d_%H%M%S")
    
    if format == 'json':
        # JSON —Ñ–æ—Ä–º–∞—Ç
        json_data = []
        for result in results:
            json_data.append({
                'region_id': result.region_id,
                'region_name': result.region_name,
                'fuel_prices': result.fuel_prices,
                'timestamp': result.timestamp,
                'status': result.status
            })
        
        filename = f"regional_prices_{timestamp}.json"
        with open(filename, 'w', encoding='utf-8') as f:
            json.dump(json_data, f, ensure_ascii=False, indent=2)
        
        print(f"üíæ –î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –≤ JSON: {filename}")
    
    elif format == 'csv':
        # CSV —Ñ–æ—Ä–º–∞—Ç (—Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—ã–π)
        filename = f"regional_prices_{timestamp}.csv"
        
        with open(filename, 'w', newline='', encoding='utf-8') as f:
            writer = csv.writer(f)
            writer.writerow(['region_id', 'region_name', 'fuel_type', 'price', 'timestamp'])
            
            for result in results:
                if result.status == 'success':
                    for fuel_type, price in result.fuel_prices.items():
                        writer.writerow([
                            result.region_id,
                            result.region_name,
                            fuel_type,
                            price,
                            result.timestamp
                        ])
        
        print(f"üíæ –î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –≤ CSV: {filename}")

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
export_regional_data(results, 'json')
export_regional_data(results, 'csv')
```

---

## üìÅ –§–æ—Ä–º–∞—Ç—ã –≤—ã—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

### üèóÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞

```python
@dataclass
class RegionalPriceResult:
    region_id: int                    # ID —Ä–µ–≥–∏–æ–Ω–∞ (77 –¥–ª—è –ú–æ—Å–∫–≤—ã)
    region_name: str                  # –ù–∞–∑–≤–∞–Ω–∏–µ ("–ú–æ—Å–∫–≤–∞")
    fuel_prices: Dict[str, float]     # {"–ê–ò-92": 45.50, "–ê–ò-95": 48.20}
    url: str                          # URL –∑–∞–ø—Ä–æ—Å–∞
    timestamp: str                    # ISO —Ñ–æ—Ä–º–∞—Ç –≤—Ä–µ–º–µ–Ω–∏
    status: str                       # 'success' –∏–ª–∏ 'error'
    error_message: str = None         # –û–ø–∏—Å–∞–Ω–∏–µ –æ—à–∏–±–∫–∏
```

### üìÑ JSON —Ñ–∞–π–ª

```json
[
  {
    "region_id": 77,
    "region_name": "–ú–æ—Å–∫–≤–∞",
    "fuel_prices": {
      "–ê–ò-92": 45.50,
      "–ê–ò-95": 48.20,
      "–ê–ò-98": 52.10,
      "–î–¢": 49.80,
      "–ü—Ä–æ–ø–∞–Ω": 26.30
    },
    "timestamp": "2024-12-01T15:30:45",
    "status": "success"
  },
  {
    "region_id": 78,
    "region_name": "–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥",
    "fuel_prices": {
      "–ê–ò-92": 44.90,
      "–ê–ò-95": 47.80,
      "–ê–ò-98": 51.60,
      "–î–¢": 49.20
    },
    "timestamp": "2024-12-01T15:30:48",
    "status": "success"
  }
]
```

### üìä Excel —Ñ–∞–π–ª (—á–µ—Ä–µ–∑ –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä)

–ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ `--use-orchestrator` —Å–æ–∑–¥–∞–µ—Ç—Å—è Excel —Ñ–∞–π–ª —Å–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π:

| region_id | region_name | fuel_type | avg_price | currency | timestamp |
|-----------|-------------|-----------|-----------|----------|-----------|
| 77 | –ú–æ—Å–∫–≤–∞ | –ê–ò-92 | 45.50 | RUB | 2024-12-01T15:30:45 |
| 77 | –ú–æ—Å–∫–≤–∞ | –ê–ò-95 | 48.20 | RUB | 2024-12-01T15:30:45 |
| 78 | –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥ | –ê–ò-92 | 44.90 | RUB | 2024-12-01T15:30:48 |

---

## üé® –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### üåç –ü—Ä–∏–º–µ—Ä 1: –ê–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏–π –æ—Ç—á–µ—Ç –ø–æ –†–æ—Å—Å–∏–∏

```python
#!/usr/bin/env python3
"""
–°–æ–∑–¥–∞–Ω–∏–µ –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ—Ç—á–µ—Ç–∞ –ø–æ —Ü–µ–Ω–∞–º —Ç–æ–ø–ª–∏–≤–∞ –≤ –†–æ—Å—Å–∏–∏
"""

from src.parsers.russiabase_parser import RussiaBaseRegionalParser
from datetime import datetime
import json

def create_russia_fuel_report():
    """–°–æ–∑–¥–∞–µ—Ç –ø–æ–ª–Ω—ã–π –æ—Ç—á–µ—Ç –ø–æ —Ü–µ–Ω–∞–º –≤ –†–æ—Å—Å–∏–∏"""
    
    parser = RussiaBaseRegionalParser()
    
    # –ü–æ–ª—É—á–∞–µ–º –≤—Å–µ —Ä–µ–≥–∏–æ–Ω—ã
    all_regions = parser.get_all_regions()
    regions_list = [
        {'id': region_id, 'name': region_name}
        for region_id, region_name in all_regions.items()
    ]
    
    print(f"üöÄ –ù–∞—á–∏–Ω–∞–µ–º –ø–∞—Ä—Å–∏–Ω–≥ {len(regions_list)} —Ä–µ–≥–∏–æ–Ω–æ–≤...")
    
    # –ü–∞—Ä—Å–∏–º –≤—Å–µ —Ä–µ–≥–∏–æ–Ω—ã
    results = parser.parse_multiple_regions(regions_list)
    
    # –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
    successful_results = [r for r in results if r.status == 'success']
    
    print(f"‚úÖ –£—Å–ø–µ—à–Ω–æ –ø–æ–ª—É—á–µ–Ω—ã –¥–∞–Ω–Ω—ã–µ –¥–ª—è {len(successful_results)} —Ä–µ–≥–∏–æ–Ω–æ–≤")
    
    # –°–æ–∑–¥–∞–µ–º –æ—Ç—á–µ—Ç
    report = {
        'generated_at': datetime.now().isoformat(),
        'total_regions': len(regions_list),
        'successful_regions': len(successful_results),
        'failed_regions': len(results) - len(successful_results),
        'fuel_statistics': {},
        'regional_data': []
    }
    
    # –ì—Ä—É–ø–ø–∏—Ä—É–µ–º –ø–æ —Ç–æ–ø–ª–∏–≤—É –¥–ª—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
    fuel_stats = {}
    
    for result in successful_results:
        # –î–æ–±–∞–≤–ª—è–µ–º –≤ —Ä–µ–≥–∏–æ–Ω–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
        report['regional_data'].append({
            'region_id': result.region_id,
            'region_name': result.region_name,
            'fuel_prices': result.fuel_prices
        })
        
        # –°–æ–±–∏—Ä–∞–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–æ —Ç–æ–ø–ª–∏–≤—É
        for fuel_type, price in result.fuel_prices.items():
            if fuel_type not in fuel_stats:
                fuel_stats[fuel_type] = []
            fuel_stats[fuel_type].append(price)
    
    # –í—ã—á–∏—Å–ª—è–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
    for fuel_type, prices in fuel_stats.items():
        report['fuel_statistics'][fuel_type] = {
            'average_price': round(sum(prices) / len(prices), 2),
            'min_price': min(prices),
            'max_price': max(prices),
            'regions_count': len(prices),
            'price_spread': round(max(prices) - min(prices), 2)
        }
    
    # –°–æ—Ö—Ä–∞–Ω—è–µ–º –æ—Ç—á–µ—Ç
    timestamp = datetime.now().strftime("%Y%m%d_%H%M%S")
    filename = f"russia_fuel_report_{timestamp}.json"
    
    with open(filename, 'w', encoding='utf-8') as f:
        json.dump(report, f, ensure_ascii=False, indent=2)
    
    print(f"\nüìä –û—Ç—á–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω: {filename}")
    
    # –í—ã–≤–æ–¥–∏–º –∫—Ä–∞—Ç–∫—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
    print("\nüìà –°—Ä–µ–¥–Ω–∏–µ —Ü–µ–Ω—ã –ø–æ –†–æ—Å—Å–∏–∏:")
    for fuel_type, stats in report['fuel_statistics'].items():
        print(f"  {fuel_type}: {stats['average_price']:.2f} —Ä—É–±/–ª "
              f"(—Ä–∞–∑–±—Ä–æ—Å: {stats['price_spread']:.2f} —Ä—É–±/–ª)")
    
    return report

if __name__ == "__main__":
    report = create_russia_fuel_report()
```

### üîÑ –ü—Ä–∏–º–µ—Ä 2: –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏–∑–º–µ–Ω–µ–Ω–∏–π —Ü–µ–Ω

```python
#!/usr/bin/env python3
"""
–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏–∑–º–µ–Ω–µ–Ω–∏–π —Ü–µ–Ω –≤ –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö —Ä–µ–≥–∏–æ–Ω–∞—Ö
"""

import json
import os
from datetime import datetime, timedelta
from src.parsers.russiabase_parser import RussiaBaseRegionalParser

def monitor_price_changes():
    """–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏–∑–º–µ–Ω–µ–Ω–∏–π —Ü–µ–Ω"""
    
    parser = RussiaBaseRegionalParser()
    
    # –ü–æ–ø—É–ª—è—Ä–Ω—ã–µ —Ä–µ–≥–∏–æ–Ω—ã –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
    monitoring_regions = [
        {'id': 77, 'name': '–ú–æ—Å–∫–≤–∞'},
        {'id': 78, 'name': '–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥'},
        {'id': 50, 'name': '–ú–æ—Å–∫–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å'},
        {'id': 23, 'name': '–ö—Ä–∞—Å–Ω–æ–¥–∞—Ä—Å–∫–∏–π –∫—Ä–∞–π'}
    ]
    
    print("üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ü–µ–Ω –≤ –∫–ª—é—á–µ–≤—ã—Ö —Ä–µ–≥–∏–æ–Ω–∞—Ö...")
    
    # –ü–æ–ª—É—á–∞–µ–º —Ç–µ–∫—É—â–∏–µ —Ü–µ–Ω—ã
    current_results = parser.parse_multiple_regions(monitoring_regions)
    current_data = {}
    
    for result in current_results:
        if result.status == 'success':
            current_data[result.region_name] = result.fuel_prices
    
    # –ü–æ–ø—ã—Ç–∫–∞ –∑–∞–≥—Ä—É–∑–∏—Ç—å –ø—Ä–µ–¥—ã–¥—É—â–∏–µ –¥–∞–Ω–Ω—ã–µ
    previous_file = "previous_monitoring_data.json"
    previous_data = {}
    
    if os.path.exists(previous_file):
        with open(previous_file, 'r', encoding='utf-8') as f:
            previous_data = json.load(f)
    
    # –°—Ä–∞–≤–Ω–∏–≤–∞–µ–º –∏ –≤—ã–≤–æ–¥–∏–º –∏–∑–º–µ–Ω–µ–Ω–∏—è
    print("\nüîç –ò–∑–º–µ–Ω–µ–Ω–∏—è —Ü–µ–Ω:")
    
    for region_name, current_prices in current_data.items():
        print(f"\nüìç {region_name}:")
        
        if region_name in previous_data:
            previous_prices = previous_data[region_name]
            
            for fuel_type, current_price in current_prices.items():
                if fuel_type in previous_prices:
                    previous_price = previous_prices[fuel_type]
                    change = current_price - previous_price
                    
                    if abs(change) > 0.01:  # –ò–∑–º–µ–Ω–µ–Ω–∏–µ –±–æ–ª—å—à–µ 1 –∫–æ–ø–µ–π–∫–∏
                        direction = "üìà" if change > 0 else "üìâ"
                        print(f"  {fuel_type}: {previous_price:.2f} ‚Üí {current_price:.2f} "
                              f"{direction} {change:+.2f}")
                    else:
                        print(f"  {fuel_type}: {current_price:.2f} (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π)")
                else:
                    print(f"  {fuel_type}: {current_price:.2f} (–Ω–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ)")
        else:
            print(f"  –ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞")
            for fuel_type, price in current_prices.items():
                print(f"  {fuel_type}: {price:.2f}")
    
    # –°–æ—Ö—Ä–∞–Ω—è–µ–º —Ç–µ–∫—É—â–∏–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è —Å–ª–µ–¥—É—é—â–µ–≥–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è
    with open(previous_file, 'w', encoding='utf-8') as f:
        json.dump(current_data, f, ensure_ascii=False, indent=2)
    
    # –°–æ—Ö—Ä–∞–Ω—è–µ–º –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ
    timestamp = datetime.now().strftime("%Y%m%d_%H%M%S")
    history_file = f"price_history_{timestamp}.json"
    
    history_data = {
        'timestamp': datetime.now().isoformat(),
        'regions': current_data
    }
    
    with open(history_file, 'w', encoding='utf-8') as f:
        json.dump(history_data, f, ensure_ascii=False, indent=2)
    
    print(f"\nüíæ –î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã: {history_file}")

if __name__ == "__main__":
    monitor_price_changes()
```

### üìä –ü—Ä–∏–º–µ—Ä 3: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è Excel –æ—Ç—á–µ—Ç–∞

```python
#!/usr/bin/env python3
"""
–°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–¥—Ä–æ–±–Ω–æ–≥–æ Excel –æ—Ç—á–µ—Ç–∞ –ø–æ —Ä–µ–≥–∏–æ–Ω–∞–ª—å–Ω—ã–º —Ü–µ–Ω–∞–º
"""

import pandas as pd
from datetime import datetime
from src.parsers.russiabase_parser import RussiaBaseRegionalParser

def create_excel_report():
    """–°–æ–∑–¥–∞–µ—Ç –ø–æ–¥—Ä–æ–±–Ω—ã–π Excel –æ—Ç—á–µ—Ç"""
    
    parser = RussiaBaseRegionalParser()
    
    # –ü–æ–ª—É—á–∞–µ–º –¥–∞–Ω–Ω—ã–µ –ø–æ –≤—Å–µ–º —Ä–µ–≥–∏–æ–Ω–∞–º
    all_regions = parser.get_all_regions()
    regions_list = list(all_regions.items())[:20]  # –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º –¥–ª—è –ø—Ä–∏–º–µ—Ä–∞
    
    regions_for_parsing = [
        {'id': region_id, 'name': region_name}
        for region_id, region_name in regions_list
    ]
    
    print(f"üìä –°–æ–∑–¥–∞–µ–º Excel –æ—Ç—á–µ—Ç –¥–ª—è {len(regions_for_parsing)} —Ä–µ–≥–∏–æ–Ω–æ–≤...")
    
    results = parser.parse_multiple_regions(regions_for_parsing)
    
    # –ü–æ–¥–≥–æ—Ç–∞–≤–ª–∏–≤–∞–µ–º –¥–∞–Ω–Ω—ã–µ –¥–ª—è Excel
    data_rows = []
    statistics_data = {}
    
    for result in results:
        if result.status == 'success':
            for fuel_type, price in result.fuel_prices.items():
                data_rows.append({
                    '–†–µ–≥–∏–æ–Ω ID': result.region_id,
                    '–ù–∞–∑–≤–∞–Ω–∏–µ —Ä–µ–≥–∏–æ–Ω–∞': result.region_name,
                    '–¢–∏–ø —Ç–æ–ø–ª–∏–≤–∞': fuel_type,
                    '–¶–µ–Ω–∞ (—Ä—É–±/–ª)': price,
                    '–í—Ä–µ–º—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è': result.timestamp
                })
                
                # –°–æ–±–∏—Ä–∞–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
                if fuel_type not in statistics_data:
                    statistics_data[fuel_type] = []
                statistics_data[fuel_type].append(price)
    
    # –°–æ–∑–¥–∞–µ–º DataFrame
    df_main = pd.DataFrame(data_rows)
    
    # –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ —Ç–æ–ø–ª–∏–≤—É
    stats_rows = []
    for fuel_type, prices in statistics_data.items():
        stats_rows.append({
            '–¢–∏–ø —Ç–æ–ø–ª–∏–≤–∞': fuel_type,
            '–°—Ä–µ–¥–Ω—è—è —Ü–µ–Ω–∞': round(sum(prices) / len(prices), 2),
            '–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞': min(prices),
            '–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞': max(prices),
            '–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ–≥–∏–æ–Ω–æ–≤': len(prices),
            '–†–∞–∑–±—Ä–æ—Å —Ü–µ–Ω': round(max(prices) - min(prices), 2)
        })
    
    df_stats = pd.DataFrame(stats_rows)
    
    # –°–≤–æ–¥–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ (—Ä–µ–≥–∏–æ–Ω—ã √ó —Ç–æ–ø–ª–∏–≤–æ)
    df_pivot = df_main.pivot(index='–ù–∞–∑–≤–∞–Ω–∏–µ —Ä–µ–≥–∏–æ–Ω–∞', 
                            columns='–¢–∏–ø —Ç–æ–ø–ª–∏–≤–∞', 
                            values='–¶–µ–Ω–∞ (—Ä—É–±/–ª)')
    
    # –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ Excel —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –ª–∏—Å—Ç–∞–º–∏
    timestamp = datetime.now().strftime("%Y%m%d_%H%M%S")
    filename = f"regional_prices_report_{timestamp}.xlsx"
    
    with pd.ExcelWriter(filename, engine='openpyxl') as writer:
        # –û—Å–Ω–æ–≤–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
        df_main.to_excel(writer, sheet_name='–î–µ—Ç–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ', index=False)
        
        # –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
        df_stats.to_excel(writer, sheet_name='–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞', index=False)
        
        # –°–≤–æ–¥–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞
        df_pivot.to_excel(writer, sheet_name='–°–≤–æ–¥–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞')
        
        # –ö–∞—Ä—Ç–∞ —Ä–µ–≥–∏–æ–Ω–æ–≤
        regions_df = pd.DataFrame([
            {'ID': region_id, '–ù–∞–∑–≤–∞–Ω–∏–µ': region_name}
            for region_id, region_name in all_regions.items()
        ])
        regions_df.to_excel(writer, sheet_name='–ö–∞—Ä—Ç–∞ —Ä–µ–≥–∏–æ–Ω–æ–≤', index=False)
    
    print(f"‚úÖ Excel –æ—Ç—á–µ—Ç —Å–æ–∑–¥–∞–Ω: {filename}")
    print(f"üìä –õ–∏—Å—Ç—ã: –î–µ—Ç–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ, –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞, –°–≤–æ–¥–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞, –ö–∞—Ä—Ç–∞ —Ä–µ–≥–∏–æ–Ω–æ–≤")
    
    return filename

if __name__ == "__main__":
    create_excel_report()
```

---

## üõ†Ô∏è –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### ‚ùå –ß–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏ –∏ —Ä–µ—à–µ–Ω–∏—è

#### 1. –û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ —Å–µ—Ç–∏

```
ConnectionError: HTTPSConnectionPool(host='russiabase.ru', port=443)
```

**–†–µ—à–µ–Ω–∏—è:**
```bash
# –£–≤–µ–ª–∏—á–∏—Ç—å —Ç–∞–π–º–∞—É—Ç
python regional_parser.py --popular-regions --delay 3.0

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ
ping russiabase.ru

# –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —á–µ—Ä–µ–∑ VPN (–µ—Å–ª–∏ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω)
```

#### 2. –û—à–∏–±–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞ JSON

```
JSONDecodeError: Expecting value: line 1 column 1 (char 0)
```

**–†–µ—à–µ–Ω–∏—è:**
- –°–∞–π—Ç –º–æ–∂–µ—Ç –≤—Ä–µ–º–µ–Ω–Ω–æ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å HTML –≤–º–µ—Å—Ç–æ JSON
- –£–≤–µ–ª–∏—á–∏—Ç—å –∑–∞–¥–µ—Ä–∂–∫—É –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏
- –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –ø–æ–∑–∂–µ

#### 3. –ü—É—Å—Ç—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

```
–ü–æ–ª—É—á–µ–Ω–æ 0 —Ä–µ–≥–∏–æ–Ω–æ–≤ —Å –¥–∞–Ω–Ω—ã–º–∏
```

**–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞:**
```python
# –ü—Ä–æ–≤–µ—Ä–∏–º –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å API
parser = RussiaBaseRegionalParser()
regions = parser.get_all_regions()
print(f"–î–æ—Å—Ç—É–ø–Ω–æ —Ä–µ–≥–∏–æ–Ω–æ–≤: {len(regions)}")

# –¢–µ—Å—Ç–∏—Ä—É–µ–º –æ–¥–∏–Ω —Ä–µ–≥–∏–æ–Ω
test_result = parser.get_region_prices(77, "–ú–æ—Å–∫–≤–∞")
print(f"–°—Ç–∞—Ç—É—Å: {test_result.status}")
if test_result.error_message:
    print(f"–û—à–∏–±–∫–∞: {test_result.error_message}")
```

#### 4. –ú–µ–¥–ª–µ–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞

**–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è:**
```bash
# –£–º–µ–Ω—å—à–∏—Ç—å –∑–∞–¥–µ—Ä–∂–∫—É (–æ—Å—Ç–æ—Ä–æ–∂–Ω–æ!)
python regional_parser.py --popular-regions --delay 1.0

# –û–≥—Ä–∞–Ω–∏—á–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ–≥–∏–æ–Ω–æ–≤
python regional_parser.py --all-regions --max-regions 20

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–æ–ø—É–ª—è—Ä–Ω—ã–µ —Ä–µ–≥–∏–æ–Ω—ã –≤–º–µ—Å—Ç–æ –≤—Å–µ—Ö
python regional_parser.py --popular-regions
```

### üîç –û—Ç–ª–∞–¥–∫–∞

#### –í–∫–ª—é—á–µ–Ω–∏–µ –ø–æ–¥—Ä–æ–±–Ω–æ–≥–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è

```bash
python regional_parser.py --popular-regions --verbose
```

#### –ü—Ä–æ–≥—Ä–∞–º–º–Ω–∞—è –æ—Ç–ª–∞–¥–∫–∞

```python
import logging
from loguru import logger

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
logger.add("debug.log", level="DEBUG")

# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –æ—Ç–ª–∞–¥–∫–æ–π
parser = RussiaBaseRegionalParser()
parser.debug = True  # –ï—Å–ª–∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è

result = parser.get_region_prices(77, "–ú–æ—Å–∫–≤–∞")
logger.debug(f"–†–µ–∑—É–ª—å—Ç–∞—Ç: {result}")
```

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

### üÜò –ï—Å–ª–∏ –Ω–∏—á–µ–≥–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —Å–∞–π—Ç–∞:**
   ```bash
   curl -I https://russiabase.ru/prices
   ```

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–µ—Ä—Å–∏–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫:**
   ```bash
   pip list | grep -E "(requests|beautifulsoup4|lxml)"
   ```

3. **–û—á–∏—Å—Ç–∏—Ç–µ –∫—ç—à –∏ –ø–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞:**
   ```bash
   pip cache purge
   pip install --upgrade requests beautifulsoup4
   ```

4. **–°–æ–∑–¥–∞–π—Ç–µ issue –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏** —Å –ø–æ–¥—Ä–æ–±–Ω—ã–º –æ–ø–∏—Å–∞–Ω–∏–µ–º –æ—à–∏–±–∫–∏.

### üìß –ö–æ–Ω—Ç–∞–∫—Ç—ã

- GitHub Issues: [—Å–æ–∑–¥–∞—Ç—å issue]
- Email: [–≤–∞—à email]
- Telegram: [–≤–∞—à —Ç–µ–ª–µ–≥—Ä–∞–º]

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [–û—Å–Ω–æ–≤–Ω–æ–π README](README.md) - –æ–±—â–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞
- [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞](ARCHITECTURE.md) - —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- [–ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è](example_usage.py) - –≥–æ—Ç–æ–≤—ã–µ –ø—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞

---

**üí° –°–æ–≤–µ—Ç:** –î–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ–± –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö —Ü–µ–Ω.

**‚ö†Ô∏è –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ:** –°–æ–±–ª—é–¥–∞–π—Ç–µ —ç—Ç–∏–∫—É –ø–∞—Ä—Å–∏–Ω–≥–∞ - –Ω–µ —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ –∏–∑–ª–∏—à–Ω—é—é –Ω–∞–≥—Ä—É–∑–∫—É –Ω–∞ —Å–µ—Ä–≤–µ—Ä—ã, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ä–∞–∑—É–º–Ω—ã–µ –∑–∞–¥–µ—Ä–∂–∫–∏ –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏.